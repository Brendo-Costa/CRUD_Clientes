{% extends 'base.html' %}

{% block titulo%}
    Lista de CLientes
{% endblock %}

{% block conteudo %}
<div class="container">
    
    <div class="row mt-3" >

        <div class='col-sm-6'>
           <h2> Gerenciar Clientes </h2>
        </div>

        <div class='col-md-auto'> 
            <button class="btn btn-dark">
                <a class="mt-3" style="text-decoration: none;  color: white;" href="{% url 'cliente_criar' %}">Novo Cliente</a>
            </button>
        </div>

        <div class='col-md-auto'>
            <a href="{% url 'cliente_listar' %}" class='btn btn-dark'>Limpar</a>
        </div>

        <div class='col-sm'>
            <form class='form-inline my-2 my-lg-0' method='GET' action="{% url 'cliente_busca' %}">
                <input name='termo' value='{{request.GET.termo}}' class='form-control mr-sm-2' type='search' placeholder='Pesquisar' arial-label='Busca'>
                <button class='btn btn-dark' type='submit'>
                    Buscar
                </button>
            </form>
        </div>
        
    </div>

    <table class="table table-hover mt-3">
        <thead class='thead-dark'>
            <th>Nome</th>
            <th>Sobrenome</th>
            <th>CPF</th>
            <th>Telefone</th>
            <th>E-mail</th>
            <th>Excluir</th>
            <th>Alterar</th>
        </thead>

        <tbody>
            {% for cliente in clientes %}
            <tr>
                <th>
                    {% if cliente.foto %}
                        <p>
                            <img class='rounded-circle float-left' style="width: 30px; height: 30px;" src="{{ cliente.foto.url }}">
                        </p>
                    {% endif %}

                    <p class='text-capitalize float-left ml-2'>{{cliente.nome}}</p>
                </th>
                <th>
                    <p class='text-capitalize'>{{cliente.sobrenome}}</p>
                </th>
                <th>{{cliente.cpf}}</th>
                <th>{{cliente.telefone}}</th>
                <th>{{cliente.email}}</th>
                
                <th>
                    <button class="btn btn-dark btn-sm">
                        <a href="{% url 'cliente_deletar' cliente.id %}" style="text-decoration: none;  color: white;">Excluir</a>
                    </button>
                </th>
                <th>
                    <button class="btn btn-dark btn-sm">
                        <a href="{% url 'cliente_alterar' cliente.id %}" style="text-decoration: none;  color: white;">Alterar</a>
                    </button>
                </th>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}